
///////////////////////////////////////////////////////////////////////////////
//  Standard Variable Definitions                                            //
///////////////////////////////////////////////////////////////////////////////

// scoreboard variables
defvarp  showkills   0  1  1
defvarp  showdeaths  0  1  1
defvarp  showip      0  0  1

// placeholders
defvar  .autosortservers   0    1    1
defvar  .crosshairsize     0    0   50
defvar  .gridpower         0    3   12
defvar  .showmat           0    1    1
defvar  .entediting        0    1    1
defvar  .passthroughcube   0    1    0
defvar  .soundvol          0  200  255
defvar  .musicvol          0   60  255
defvar  .announcervol      0  220  255
defvar  .uivol             0  100  255

defsvar .name             ""

defvar  .gscalef          25  100  100
defvar  .gscalew          25  100  100
defvar  .interpolation     1    2    4

defvar  .screenw  1  $screenw  $desktopw
defvar  .screenh  1  $screenh  $desktoph

// other variables
defvarp   zoomtoggle     0  0  1
defsvarp  modelist       "edit dm tdm ctf elim lms jugg infect"
defsvarp  mutslist       "classic insta effic voosh oneweap vampire mayhem nopower noitem"
defsvarp  notepadpath    "untitled.cfg"

defvar    .followplayer   0  0    1
defvar    .followcn      -1  0  159

defsvar   .followlist  ""
defsvar   .cmc_from    ""
defsvar   .cmc_to      ""

// UI settings
defvar    uiBlurring   0  0  99
defvarp   uiBlurBg     0  1   1
defvarp   uiClickTabs  0  0   1
defvarp   uiDebug      0  0   1
defvarp   uiNameSet    0  0   1

defvarp   uiConfirmQuit       0  1  1
defvarp   uiConfirmMapWrite   0  1  1

defvarp   uiLang       0  0   4 // change if necessary
defvarp   uiColor      0x0  0x2BF36E  0xFFFFFF

defvarp   uiKillDecay    1500  4000  8000
defvarp   uiKillFade       50   150   500
defvarp   uiKillCount      12    24    36

defvarp   uiDeathScores     0     1     1

deffvarp  uiWideHUD    1  1.77777  (-f (divf $desktopw $desktoph) 0.00001)

// Mandatory Keyboard Hook variables
defvar    .UI_KBcaret   -1 -1  99
defsvar   .UI_KBvarcur  ""
defsvar   .UI_KBthisui  ""

// UI specific variables
defvarp  .mm_doaction   0    1    1
defvarp  .mb_maplist    0    0    1
defsvar  .mb_selected  ""
defvarp  .mr_options    0    0    1
defvarp  .mr_resmul    10  100  100
defsvar  .mr_title     ""
defsvar  .om_advaudio   0    0    1

defsvar  .savemapname  ""
defsvar  .serverpassw  ""
defsvar  .serverhover  -1 -1  9999

defvarp   .cci_showbots   0  1  1
defvarp   .cci_showself   0  1  1
defvarp   .cci_showspec   0  1  1
defsvar   .cci_clients   ""

defvarp  .sb_mm            0     0    63
defvarp  .sb_mode          0     0   127
defvarp  .sb_ping         55  9999  9999
defvarp  .sb_players_e     0     0     1
defvarp  .sb_players_f     0     0     1
defvarp  .sb_showfilters   0     0     1
defsvar  .sb_connectid    ""

defsvar  .kb_mode    "norm"
defsvar  .kb_selkey  ""




///////////////////////////////////////////////////////////////////////////////
//  Keybind & Combobind Definitions                                          //
///////////////////////////////////////////////////////////////////////////////

defnormkey = [
	[:def.norm:@arg1] = $arg2
	[:cus.norm:@arg1] = []
	bind $arg1 [ keyswitch @arg1 [:def.norm:@@arg1] [:cus.norm:@@arg1] ]
	[:desc.def.norm:@arg1] = $arg3
]

defeditkey = [
	[:def.edit:@arg1] = $arg2
	[:cus.edit:@arg1] = []
	editbind $arg1 [ keyswitch @arg1 [:def.edit:@@arg1] [:cus.edit:@@arg1] ]
	[:desc.def.edit:@arg1] = $arg3
]

defspeckey = [
	[:def.spec:@arg1] = $arg2
	[:cus.spec:@arg1] = []
	specbind $arg1 [ keyswitch @arg1 [:def.spec:@@arg1] [:cus.spec:@@arg1] ]
	[:desc.def.spec:@arg1] = $arg3
]

normkey = [ [:cus.norm:@arg1] = $arg2 ; [:desc.cus.norm:@arg1] = $arg3 ]
editkey = [ [:cus.edit:@arg1] = $arg2 ; [:desc.cus.edit:@arg1] = $arg3 ]
speckey = [ [:cus.spec:@arg1] = $arg2 ; [:desc.cus.spec:@arg1] = $arg3 ]

keyswitch = [
	[:switch:@arg1] = 1
	onrelease [ [:switch:@@arg1] = 0 ]
	nodebug [
		if (> $.UI_KBcaret -1) [ .UI_KBinput $arg1 ] [
			if (=s $$arg3 "") $$arg2 $$arg3
		]
	]
]

iskeyheld  = [ = 1 $[:switch:@arg1] ]
!iskeyheld = [ = 0 $[:switch:@arg1] ]

&&iskeyheld = [
	local k ; k = 0
	nodebug [ loop+ i 1 $numargs [
		k = (+ $k $[:switch:@[arg@i]])
	] ]
	= $k $numargs
]

||iskeyheld = [
	local k ; k = 0
	nodebug [ loop+ i 1 $numargs [
		k = (+ $k $[:switch:@[arg@i]])
	] ]
	> $k 0
]




///////////////////////////////////////////////////////////////////////////////
//  Standard Texture Commands (*.tex)                                        //
///////////////////////////////////////////////////////////////////////////////

texsky      = [ setshader "stdworld" ; texture 0 "base/sky.png" ]
texerror    = [ setshader "stdworld" ; texture 0 "base/notexture.png" ]
texnorender = [ setshader "stdworld" ; texture 0 "base/norender.png" ]
texload     = [
	if (! (exec [data/texture/world/@arg1.tex] 0)) [
		error [texload error: @arg1.tex not found]
		texerror
	]
]
decalload = [
	if (! (exec [data/texture/decal/@arg1.cfg] 0)) [
		error [decalload error: @arg1.cfg not found]
	]
]
